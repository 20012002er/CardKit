@import "base";

//@import "animate/animations/attention-seekers/bounce";
//@import "map1/*.png";
//@include all-map1-sprites;

$text_color: #252525; // 正文、白背景UI上的内容或标题
$desc_color: #787878; // 次要、与白背景UI混为一体的文字
$border_color: #dadada; // 白背景UI上的边框、分割线

$hover_color: #3377aa; // 文本内的链接、触碰状态
$notice_color: #df5001; // 红色提示

$win_bgcolor: #666; // 窗口背景
$card_bgcolor: #f2f2f2; // 视图背景

$headtitle_size: 40px/2; // 文章正文
$article_size: 34px/2; // 文章正文
$maintitle_size: 30px/2; // 标题
$title_size: 26px/2;  // 按钮
$text_size: 22px/2; // 内容

$space: 30px/2;
$radius: 6px/2;
$text_space: 40px/2;

$zindex_card: 10; // 视图内的层级
$zindex_overlay: 100; // 弹出物的层级
$zindex_step: 10; // 间距

$nav_height: 85px/2;

html {
  -webkit-text-size-adjust: 100%;
  overflow:hidden;
}

body {
  font:$text_size Helvetica,sans-serif;
  color:$text_color;
  background:$card_bgcolor;
  line-height:1.7;
  overflow:hidden;
}

// ===========
//  UI元素
// ===========

a {
  text-decoration:none;
  color:$hover_color;
  -webkit-touch-callout: none;
}

.btn {
  display:inline-block;
  margin:0 0 0 7px;
  padding:0;
  width: (160px/2);
  height: (58px/2);
  @include border-radius($radius);
  background-color: #81858b;
  border: solid 1px #bcbcbc;
  @include background-image(linear-gradient(bottom, #ccc, #fff));
  font-size:$title_size;
  color:$text_color;
  @include text-shadow(0 1px #fff);
  line-height:(56px/2);
  @include user-select(none);
  -webkit-tap-highlight-color: rgba(0,0,0,0);

  &:first-child {
    margin-left:0;
  }

  &:active {
    @include box-shadow(inset 0 2px 3px rgba(129,129,129,.5));
    @include background-image(linear-gradient(bottom, #ccc, #fff));

    span {
      position:relative;
      top:1px;
    }

  }

}

.btn[data-default=true] {
  background-color: #81858b;
  border: solid 1px #9f9f9f;
  @include background-image(linear-gradient(bottom, #1366a4, #278cd7));
  color:#fff;
  @include text-shadow(0 1px #000);

  &:active {
    background-color: #81858b;
    @include box-shadow(0 1px #fff, inset 0 2px 3px rgba(117,117,117,.51));
    @include background-image(linear-gradient(bottom, #1366a4, #278cd7));
  }

}

// ===========
//  布局
// ===========

.ck-header {
  height: $nav_height;
  @include border-radius($radius $radius 0 0);
  @include box-shadow(0 2px 3px rgba(0,0,0,.35));
  z-index:$zindex_step;
  @include user-select(none);
}

.ck-top-title {
  font-size:$article_size;
  line-height: $nav_height;
  text-align:center;
  display:block;
  margin:0 $space + 40px;
}

.ck-baseview {
  @include box-shadow(0px 0px 10px rgba(0,0,0,.35));
  @include transform-origin(50% 0);
  @include transition(transform 400ms ease-in-out 100ms);

  .ck-header {
    position:fixed;
    top:0;
    left:0;
    width:100%;
    @include background(linear-gradient(bottom, #78624f, #846f5b));
    z-index: $zindex_overlay;
    @include transform(translateY(-$nav_height));
    @include transition(transform 400ms ease-in-out);

    $btn-size: 15px;

    .ck-top-nav {
      width:$btn-size;
      height:$btn-size;
      position:absolute;
      top:$space;
      left:$space;
      @include box-shadow(inset 0px 0px 2px #000); // @TODO
    }

    .ck-top-title {
      color:#fff;
      @include text-shadow(0px 1px 0px rgba(0,0,0,1));
    }

    .ck-top-action {
      @extend .ck-top-nav;
      left:auto;
      right:$space;
      padding:0;
      border:0;
      background:none;
    }

    .ck-top-search {
      @extend .ck-top-action;
      right:$space*2 + $btn-size;
    }

  }

}

.ck-wrapper {
  width:100%;
  position:relative;
}

.ck-footer {
  display:none;
  height:15px;
  padding:5px 0 15px 0;
  background:$card_bgcolor;
  text-align:center;
  
  .copyright {
    font-size:$text_size;
    color:$desc_color;
    margin:5px 0;
  }

}

.ck-raw {
  display:none;
}

// ===========
//  卡片
// ===========

.ck-card {
  display:none;
  width:100%;
  //padding-top:$nav_height + $space;
  background:$card_bgcolor;
  //@include box-shadow(-3px 0px 10px 0px rgba(0,0,0,.35));
  @include user-select(none);
  overflow-y:auto;
  -webkit-overflow-scrolling: touch;

  & > *:first-child {
    margin-top:$nav_height + $space;
  }

  // 文章视图
  &.paper {

    .ck-text {
      padding:(28px/2) 0;
      border-bottom:1px solid $border_color;
      //margin-bottom:40px;
    }

  }

  &.moving {
    position:absolute;
    top:0;
    left:0;
    z-index:$zindex_card;
    @include transform(translateX(100%));
  }

}

// 默认首屏视图
#ckDefault {

}

#ckLoading {
  display:block;
  font-size:$headtitle_size;
  color:$desc_color;
  text-align:center;
  overflow:hidden;

  span {
    display:block;
    //height:100%;
    padding:50% 0 50% 0;
    position:absolute;
    top:0;
    left:0;
    width:100%;
  }

  .ck-footer * {
    display:none;
  }

}

// ===========
//  模块
// ===========

// 无格式模块
.ck-plain {

}

// 自定义模块
.ck-box {
  overflow:hidden;
  margin:$space;
  background-color:#fff;
  border:1px solid rgb(255,255,255);
  @include border-radius($radius);
  @include box-shadow(0px 1px 4px 0px rgba(0,0,0,0.3));
}

// 文本模块
.ck-text {
  font-size:$article_size;
  line-height:60px/2;
  margin:$space;
  padding:(28px/2) $text_space 0 $text_space;
  @include user-select(text);

  p {
    margin:(50px/2) 0;
  }

  .ckd-hd {
    font-size:$headtitle_size;
    padding-bottom:10px;
    border-bottom:1px solid $border_color;
    margin-bottom:30px;
  }

}

// 表单模块
.ck-form {

}

// 列表模块
.ck-list {
  @extend .ck-box;

  .ck-item {
    border-bottom:1px solid $border_color;
    margin:0 20px;
    padding:($space/2 + 1) 0;
    -webkit-tap-highlight-color: rgba(0,0,0,0);

    .ck-link {
      padding:($space/2 - 1) 0;
      font-size:$maintitle_size;
      color:$text_color;
      display:block;
      background: {
        image: inline-image('drawer_icon.png');
        repeat: no-repeat;
        position: right;
        size: 5.5px 10px;
      }
      -webkit-touch-callout: none;
    }

    &:last-child {
      border:none;
    }

    &:active {
      margin:0 10px;
      border:none;

      .ck-link {
        @include border-radius($radius);
        background:$hover_color;
        color:#fff;
        padding-left:10px;
        padding-right:10px;
      }

      &+.ck-item {
        border-top:1px solid $border_color;
      }
    
    }

  }

}

// 大列表模块
.ck-biglist {

}

// ===========
//  标签
// ===========

.ck-link {
  -webkit-touch-callout: inherit;
  @include user-select(none);
}

.ck-modal {
  @extend .btn;
}

.ck-modal:active {
  @extend .btn:active;
}

// ===========
//  组件
// ===========

// modalView

.moui-modalview {
  visibility:hidden;
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  padding-top:50px;
  z-index: $zindex_overlay + $zindex_step;

  .wrapper {
    @include transform(translateY(0px));
    @include transition(transform 400ms ease-in-out);

    & > header {
      @extend .ck-header;
      position:relative;
      @include box-shadow(0 2px 3px rgba(0,0,0,.2)); 
      @include background-image(linear-gradient(bottom, #dfdfdf, #fcfcfc));

      h1 {
        @extend .ck-top-title;
      }

      $padding: 15px/2;

      div.confirm, div.cancel {
        display:inline-block;
        margin:$padding 0 0 $padding;
        float:left;
      }

      div.confirm {
        margin:$padding $padding 0 0;
        float:right;
      }

      button {
        @extend .btn;
        width:55px;
      }

    }

  }

  .shd {
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    opacity:0;
    @include background-image(radial-gradient(rgba(127,127,127,0.3), rgba(0,0,0,0.7)));
    @include transition(opacity 400ms ease-in-out);
  }

  &.active {
    visibility:visible;

    .shd {
      opacity:1;
    }

  }

}

.moui-modalview-content {
  overflow-y:scroll;
  -webkit-overflow-scrolling: touch;
  background:$card_bgcolor;
}


